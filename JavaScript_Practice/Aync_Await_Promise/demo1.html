<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await Promise</title>
</head>
<body>
    
    <script>
        let arrayDetails = [];
        let arrayDetails_async_await = []

        // using promise
        getData = () =>{
            return new Promise((resolve,reject)=>{
                fetch("http://localhost:3000/formDetails3").then((response)=>response.json())
                .then((data)=>{
                    resolve(data);
                    // reject();
                })
            })
        }

        getData().then((data)=>{
            console.log(data)
        }).catch(()=>{
            console.log("Rejected")
        })

        // using normal fetch
        fetch("http://localhost:3000/formDetails3",{
            method:"GET",
            headers :{'Content-Type':'application/json'},
            body : null
        }).then((response)=>{
            return response.json();
        }).then((data)=>{
            arrayDetails = data;
            displayOne()
        })
        function displayOne(){
            console.log(arrayDetails)
        }

        // using async await
        getDataFromAPI = async () =>{
            const result = await (await fetch("http://localhost:3000/formDetails3")).json(); 
            arrayDetails_async_await = result;
            displayTwo();
        }
        getDataFromAPI();
        function displayTwo(){
            console.log(arrayDetails_async_await)
        }
        console.log(arrayDetails_async_await)


    </script>
</body>
</html>